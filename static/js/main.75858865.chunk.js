(this["webpackJsonpnews-app"]=this["webpackJsonpnews-app"]||[]).push([[0],{18:function(e,t,a){e.exports=a(41)},23:function(e,t,a){},4:function(e,t,a){},41:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(15),c=a.n(l),s=(a(23),a(2)),i=(a(4),a(16)),o=a.n(i),u=a(17),m=function(e){var t=e.newsId,a=e.headline,l=e.authorName,c=e.url,i=e.fileName,o=e.image,m=e.date,d=e.locNews,f=e.setRender,h=e.firstRender,w=Object(n.useState)([]),g=Object(s.a)(w,2),p=g[0],N=g[1],E=Object(n.useState)(),v=Object(s.a)(E,2),b=v[0],O=v[1],S=JSON.parse(window.localStorage.getItem("liked-news")),j=null===S?[]:S;Object(n.useEffect)((function(){h||(p||-1!==j.indexOf(t)?y():k())}),[p]);var k=function(){var e=null===j?[t]:[].concat(Object(u.a)(j),[t]);window.localStorage.setItem("liked-news",JSON.stringify(e)),O(j.length+1)},y=function(){var e=j.filter((function(e){if(e!==t)return e}));window.localStorage.setItem("liked-news",JSON.stringify(e)),O(j.length-1)};return r.a.createElement("div",{key:t,className:"news-article"},r.a.createElement("div",{className:"news-img"},r.a.createElement("img",{src:"https://gumlet.assettype.com/"+o,alt:i,className:"image"})),r.a.createElement("div",{className:"news-description"},r.a.createElement("a",{href:c,target:"_blank",rel:"noopener noreferrer"},r.a.createElement("div",{className:"news-title"},a)),r.a.createElement("div",{className:"news-meta"},r.a.createElement("div",null,"By ",l),r.a.createElement("div",null,function(e){var t=new Date(e);return t.getDate()+"-"+t.getMonth()+"-"+t.getFullYear()}(m))),r.a.createElement("button",{className:"like ".concat(d?p?"":"liked":b>=0&&!d?"":"liked"," "),onClick:function(){h&&f(!1),p?(N(!1),d=!0):(N(!0),d=!1)}})))},d=function(e){var t=e.onSearch;return r.a.createElement("div",{className:"searchbar"},r.a.createElement("span",null,"Search News"),r.a.createElement("input",{type:"text",placeholder:"Search News",label:"Search News",onChange:t}))},f=function(e){var t=e.resultLength,a=e.totalNews;return r.a.createElement("div",{className:"results-count"},t>0?"Showing ".concat(t," of ").concat(a," results"):"No Results Found")},h=function(){var e=Object(n.useState)([]),t=Object(s.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)([]),i=Object(s.a)(c,2),u=i[0],h=i[1],w=Object(n.useState)(!0),g=Object(s.a)(w,2),p=g[0],N=g[1],E=window.localStorage.getItem("liked-news"),v=null===E?[]:E;Object(n.useEffect)((function(){o.a.get("https://nl-static-site-assets.s3.ap-south-1.amazonaws.com/reports.json").then((function(e){return l(e.data.items)})).catch((function(e){return console.log(e)}))}),[]);var b=a.filter((function(e){return-1!==e.story.headline.toLowerCase().indexOf(u)}));return r.a.createElement("div",{className:"app"},r.a.createElement(d,{onSearch:function(e){h(e.target.value.toLowerCase())}}),r.a.createElement(f,{resultLength:b.length,totalNews:a.length}),r.a.createElement("main",null,b.map((function(e,t){var a=e.story,n=a.id,l=a.headline,c=a["author-name"],s=a["hero-image-s3-key"],i=a["hero-image-metadata"]["file-name"],o=a["published-at"],u=a.url,d=v.indexOf(n);return r.a.createElement(m,{key:t,newsId:n,headline:l,authorName:c,url:u,fileName:i,image:s,date:o,locNews:-1===d,firstRender:p,setRender:N})}))))};c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(h,null)),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.75858865.chunk.js.map